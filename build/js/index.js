let clear=document.querySelector(".products__clear"),accessories=document.querySelector(".accessories"),deleteProd=document.querySelector("delete-p"),products=[],total=document.querySelector(".products__total"),table=document.querySelector(".products__table tbody"),cardsShopping=document.querySelector(".cardsShopping"),accumulated__price=document.querySelector(".accumulated__price");function cargarListener(){table.addEventListener("click",deleteProduct),clear.addEventListener("click",()=>{products=[],clearCar()}),document.addEventListener("DOMContentLoaded",()=>{products=JSON.parse(localStorage.getItem("products"))?JSON.parse(localStorage.getItem("products")):[],carShoppingTable()}),accessories.addEventListener("click",addProduct)}function addProduct(t){if(!t.target.classList.contains("fa-cart-plus"))return!1;readProduct(t.target.parentElement.parentElement)}function readProduct(t){let e={id:t.querySelector(".fa-cart-plus").getAttribute("data-id"),name:t.querySelector(".name").textContent,image:t.querySelector("img").src,quantity:1,price:t.querySelector(".success").textContent,discount:t.querySelector(".delete").textContent};if(products.some(t=>t.id===e.id)){const t=products.map(t=>t.id===e.id?(t.quantity++,t):t);products=[...t]}else products=[...products,e];carShoppingTable()}function carShoppingTable(){clearCar();let t=0;products.forEach(e=>{const{image:r,price:c,id:a,quantity:o,name:n}=e,d=parseInt(c.split("$")[1]);t+=d*o;const l=document.createElement("tr");l.innerHTML=`\n        <td>\n            ${n}\n        </td>\n        <td>\n            <img src='${r}' width='50px'>   \n        </td>\n        <td>\n            ${o}\n        </td>\n        <td>\n            $$ ${d*o} \n        </td>\n        <td>\n            <i class="delete-p fa-solid fa-circle-xmark" data-id=${a}></i>\n        </td>  \n        `,table.appendChild(l),total.textContent="$$"+t}),syncStorage()}function syncStorage(){localStorage.setItem("products",JSON.stringify(products))}function deleteProduct(t){if(t.target.classList.contains("delete-p")){const e=t.target.getAttribute("data-id");products=products.filter(t=>t.id!==e),carShoppingTable()}}function clearCar(){for(;table.firstChild;)table.removeChild(table.firstChild);localStorage.setItem("products",[]),total.textContent=""}cargarListener();
//# sourceMappingURL=index.js.map
