{"version":3,"sources":["shopping.js"],"names":["discount","cardsShopping","document","querySelector","accumulated__price","accumulated__discount","numberProducts","products","carShopping","result","resultDiscount","forEach","product","image","price","id","quantity","name","unitPrice","parseInt","split","unitDiscount","productDiv","createElement","classList","add","innerHTML","appendChild","textContent","syncStorage","localStorage","setItem","JSON","stringify","deleteProduct","e","target","contains","getAttribute","filter","prod","carShoppingTable","addEventListener","parse","getItem","count","length"],"mappings":"AACA,IAKIA,SALAC,cAAgBC,SAASC,cAAc,kBACvCC,mBAAqBF,SAASC,cAAc,uBAC5CE,sBAAwBH,SAASC,cAAc,0BAC/CG,eAAiBJ,SAASC,cAAc,kBAGxCI,SAAS,GAeb,SAASC,cAEL,IAAIC,EAAS,EACTC,EAAiB,EAGrBH,SAASI,QAAQC,IACb,MAAMC,MAACA,EAAKC,MAAEA,EAAKC,GAACA,EAAEC,SAACA,EAAQC,KAACA,EAAIjB,SAAEA,GAAYY,EAC5CM,EAAYC,SAASL,EAAMM,MAAM,KAAK,IACtCC,EAAeF,SAASnB,EAASoB,MAAM,KAAK,IAClDX,GAAQS,EAAUF,EAClBN,GAAkBW,EAAaL,EAC/B,MAAMM,EAAapB,SAASqB,cAAc,OAC1CD,EAAWE,UAAUC,IAAI,WACzBH,EAAWI,UAAU,iCAETb,WAAeI,iHAGCA,yDACYH,2DACGE,kHAEGD,qGAEVG,EAAYF,wDACRK,EAAeL,kEAKvDf,cAAc0B,YAAYL,GAC1BlB,mBAAmBwB,YAAc,KAAKnB,EACtCJ,sBAAsBuB,YAAc,KAAKlB,IAG7CmB,cAIJ,SAASA,cACLC,aAAaC,QAAQ,WAAWC,KAAKC,UAAU1B,WAInD,SAAS2B,cAAcC,GACnB,GAAGA,EAAEC,OAAOZ,UAAUa,SAAS,YAAY,CACvC,MAAMtB,EAAKoB,EAAEC,OAAOE,aAAa,WAEjC/B,SAAWA,SAASgC,OAAOC,GAAQA,EAAKzB,KAAOA,GAE/C0B,oBAhEPvC,SAASwC,iBAAiB,mBAAmB,KAC1CnC,SAAWyB,KAAKW,MAAMb,aAAac,QAAQ,cAAgB,GAE3DpC,cACA,IAAIqC,EAAQtC,SAASuC,OAEjBxC,eAAesB,YADT,GAAPiB,EACiCA,EAAH,yBAEA","file":"shopping.js","sourcesContent":["\nlet cardsShopping = document.querySelector(\".cardsShopping\");\nlet accumulated__price = document.querySelector(\".accumulated__price\");\nlet accumulated__discount = document.querySelector(\".accumulated__discount\");\nlet numberProducts = document.querySelector(\".titleShopping\");\n\nlet discount\nlet products=[];\n //Mostrar productos del localStorage\n document.addEventListener(\"DOMContentLoaded\",()=>{\n    products = JSON.parse(localStorage.getItem('products')) || [];\n    \n    carShopping();\n    let count = products.length;\n    if(count!=0){\n        numberProducts.textContent = `${count} productos en la cesta`;\n    }else{\n        numberProducts.textContent = \"Tu cesta esta vacÃ­a\";\n    }\n\n})\n\nfunction carShopping(){\n\n    let result = 0;\n    let resultDiscount = 0;\n    //console.log(typeof productsStorage);\n    \n    products.forEach(product =>{\n        const {image, price,id,quantity,name, discount} = product;\n        const unitPrice = parseInt(price.split(\"$\")[1]);\n        const unitDiscount = parseInt(discount.split(\"$\")[1]); \n        result+=unitPrice*quantity;\n        resultDiscount += unitDiscount*quantity;\n        const productDiv = document.createElement('div');\n        productDiv.classList.add(\"product\");\n        productDiv.innerHTML=`\n        \n        <img src=\"${image}\" alt=\"${name}\">\n        <div class=\"details\">\n            <div class=\"textShopping\">\n                <h3 class=\"title\">${name}</h3>\n                <p class=\"text price\">Precio: ${price}</p>\n                <p class=\"text amount\">Cantidad: ${quantity}</p>\n            </div>                                \n            <span class=\"delete-p delete\"  data-id=\"${id}\">Remove</span>\n            <div class=\"totalPrice\">\n                <p class=\"text total\"> $$ ${unitPrice * quantity} </p>\n                <p class=\"text discount\"> $$ ${ unitDiscount * quantity}</p>\n            </div>        \n        </div>\n  \n        `\n        cardsShopping.appendChild(productDiv);\n        accumulated__price.textContent = \"$$\"+result;\n        accumulated__discount.textContent = \"$$\"+resultDiscount;\n    })\n    //Agregar localstorage\n    syncStorage();    \n}\n\n\nfunction syncStorage(){\n    localStorage.setItem(\"products\",JSON.stringify(products));\n}\n\n\nfunction deleteProduct(e){\n    if(e.target.classList.contains('delete-p')){\n        const id = e.target.getAttribute('data-id')\n        \n        products = products.filter(prod => prod.id !== id)\n\n        carShoppingTable();\n    }\n}\n"]}